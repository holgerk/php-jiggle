# php-jiggle [![Build Status](https://travis-ci.org/holgerk/php-jiggle.png?branch=master)](https://travis-ci.org/holgerk/php-jiggle)

Jiggle is a depency injection container for php &gt;5.3

## Examples

<!-- START AUTOGENERATED EXAMPLES -->
### Set and get dependencies
```php
$jiggle = new Jiggle;
$jiggle->d1 = 42;
$this->assertEquals(42, $jiggle->d1);
```

### Lazy loading with factory functions
```php
$jiggle = new Jiggle;
$jiggle->d1 = function() {
    return 42;
};
$this->assertEquals(42, $jiggle->d1);
```

### Simple wiring of dependencies
```php
$jiggle = new Jiggle;
$jiggle->d1 = 42;
$jiggle->d2 = function() use($jiggle) {
    return $jiggle->d1;
};
$this->assertEquals(42, $jiggle->d2);
```

### Magic injection of depencies into factory functions
```php
$jiggle = new Jiggle;
$jiggle->d1 = 42;
$jiggle->d2 = function($d1) {
    return $d1;
};
$this->assertEquals(42, $jiggle->d2);
```

### Simple instantiation
```php
$jiggle = new Jiggle;
$jiggle->d1 = 40;
$jiggle->d2 = 2;
$jiggle->d3 = function() use($jiggle) {
    return new D3($jiggle->d1, $jiggle->d2);
};
$this->assertEquals(42, $jiggle->d3->sum());
```

### Instantiation with magic constructor injection
```php
$jiggle = new Jiggle;
$jiggle->d1 = 40;
$jiggle->d2 = 2;
$jiggle->d3 = function() use($jiggle) {
    return $jiggle->create('D3');
};
$this->assertEquals(42, $jiggle->d3->sum());
```

### Short form of magic constructor injection
```php
$jiggle = new Jiggle;
$jiggle->d1 = 40;
$jiggle->d2 = 2;
$jiggle->d3 = $jiggle->createFactory('D3');
$this->assertEquals(42, $jiggle->d3->sum());
```


<!-- END AUTOGENERATED EXAMPLES -->
